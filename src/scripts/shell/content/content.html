<div id="header">
  <div class="content">
    <span class="header-right">
      <dim-platform-choice platforms="$ctrl.platforms" current="$ctrl.currentPlatform" on-platform-change="$ctrl.platformChange(platform)" class="header-right"></dim-platform-choice>
      <div class="header-right" id="actions">
        <span class="link" ng-click="$ctrl.refresh($event)" ng-i18next="[title]Header.Refresh"><i ng-class="{'fa-spin': $ctrl.loadingTracker.active()}" class="fa fa-refresh"></i></span>
        <span class="link" ng-click="$ctrl.toggleState('loadout-builder')" ng-i18next="[title]LB.LB"><i class="fa fa-bar-chart"></i></span>
        <span class="link" ng-if="::$ctrl.featureFlags.materialsExchangeEnabled" ui-sref="materials-exchange" ng-i18next="[title]Header.MaterialsExchange"><i class="fa fa-list-alt"></i></span>
        <span class="link" ng-click="$ctrl.toggleState('storage')" ng-i18next="[title]Storage.Title"><i class="fa fa-save"></i></span>
        <span class="link" ng-click="$ctrl.showSetting($event)" ng-i18next="[title]Settings.Settings"><i class="fa fa-cog"></i></span>
        <span class="link search-link">
          <span class="filter-help" ng-click="$ctrl.showFilters($event)" ng-i18next="[title]Header.Filters"><i class="fa fa-question-circle-o"></i></span>
          <dim-search-filter></dim-search-filter>
        </span>
      </div>
    </span>
    <img class="logo link" ng-class="::$ctrl.$DIM_FLAVOR" ui-sref="inventory" title="v{{::$ctrl.$DIM_VERSION}} ({{::$ctrl.$DIM_FLAVOR}})" src="~app/images/logo-type-right-light.svg" alt="DIM"/>
    <span class="link" ng-click="$ctrl.showAbout($event)" ng-i18next="Header.About"></span>
    <a class="link" ng-click="$ctrl.showSupport($event)" ng-i18next="Header.SupportDIM"></a>
    <a class="link" target="_blank" rel="noopener noreferrer" href="https://teespring.com/stores/dim" ng-i18next="Header.Shop"></a>
    <span class="link header-separator"></span>
    <span class="link" ng-click="$ctrl.toggleState('record-books')" ng-i18next="RecordBooks.RecordBooks"></span>
    <span class="link" ng-if="::$ctrl.featureFlags.vendorsEnabled" ng-class="{ disabled: !$ctrl.vendorService.vendorsLoaded }" ng-click="$ctrl.toggleState('vendors')" ng-i18next="Vendors.Vendors"></span>
    <span class="link" ng-if="$ctrl.xur.available" ng-click="$ctrl.showXur($event)">XÃ»r</span>
  </div>
</div>
<toaster-container toaster-options="{ 'time-out': 10000, limit: 6 }"></toaster-container>
<div id="content" class="content" ui-view></div>
<div class="store-bounds"></div>
<dim-manifest-progress></dim-manifest-progress>
<div class="random-loadout" ng-controller="dimRandomCtrl as random">
  <a class="loadout random" href="#" ng-disabled="random.disableRandomLoadout" ng-if="::random.showRandomLoadout" ng-click="random.applyRandomLoadout($event)">&Pi;</a>
</div>
