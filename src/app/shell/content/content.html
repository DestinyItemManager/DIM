<div id="header">
  <span class="menu link" ng-click="$ctrl.dropdown = !$ctrl.dropdown" dim-click-anywhere-but-here="$ctrl.dropdown = false">
    <i class="fa fa-bars"></i>
    <div class="dropdown" ng-if="$ctrl.dropdown">
      <a class="link" ui-sref-active="active" ui-sref="inventory" ng-i18next="Header.Inventory"></a>
      <a class="link" ui-sref-active="active" ui-sref="loadout-builder" ng-i18next="LB.LB"></a>
      <a class="link"  ui-sref-active="active" ui-sref="vendors" ng-i18next="Vendors.Vendors"
         ng-if="::$ctrl.featureFlags.vendorsEnabled" ng-class="{disabled: !$ctrl.vendorService.vendorsLoaded}"></a>
      <a class="link" ui-sref-active="active" ui-sref="record-books" ng-i18next="RecordBooks.RecordBooks"></a>
      <a class="link" ui-sref-active="active" ui-sref="activities" ng-if="::$ctrl.featureFlags.activities" ng-i18next="Activities.Activities"></a>
      <span class="link" ng-if="$ctrl.xur.available" ng-click="$ctrl.showXur($event)">Xûr</span>
      <hr>
      <a class="link" ui-sref-active="active" ui-sref="storage" ng-i18next="Storage.Title"></a>
      <span class="link" ng-click="$ctrl.showSetting($event)" ng-i18next="Settings.Settings"></span>
      <hr>
      <span class="link" ng-click="$ctrl.showAbout($event)" ng-i18next="Header.About"></span>
      <span class="link" ng-click="$ctrl.showSupport($event)" ng-i18next="Header.SupportDIM"></span>
      <a class="link" target="_blank" rel="noopener noreferrer" href="https://teespring.com/stores/dim" ng-i18next="Header.Shop"></a>
    </div>
  </span>

  <img class="logo link" ng-class="::$ctrl.$DIM_FLAVOR" ui-sref="inventory" title="v{{::$ctrl.$DIM_VERSION}} ({{::$ctrl.$DIM_FLAVOR}})" src="~app/images/logo-type-right-light.svg" alt="DIM"/>
  <span class="link first-to-go" ng-click="$ctrl.showAbout($event)" ng-i18next="Header.About"></span>
  <span class="link first-to-go" ng-click="$ctrl.showSupport($event)" ng-i18next="Header.SupportDIM"></span>
  <a class="link first-to-go" target="_blank" rel="noopener noreferrer" href="https://teespring.com/stores/dim" ng-i18next="Header.Shop"></a>
  <span class="link first-to-go header-separator"></span>
  <a class="link second-to-go" ui-sref-active="active" ui-sref="inventory" ng-i18next="Header.Inventory"></a>
  <a class="link second-to-go" ui-sref-active="active" ui-sref="loadout-builder" ng-i18next="LB.LB"></a>
  <a class="link second-to-go" ui-sref-active="active" ui-sref="record-books" ng-i18next="RecordBooks.RecordBooks"></a>
  <a class="link second-to-go" ui-sref-active="active" ui-sref="activities" ng-i18next="Activities.Activities"
        ng-if="::$ctrl.featureFlags.activities"></a>
  <a class="link second-to-go" ui-sref-active="active" ui-sref="vendors" ng-i18next="Vendors.Vendors"
     ng-if="::$ctrl.featureFlags.vendorsEnabled" ng-class="{disabled: !$ctrl.vendorService.vendorsLoaded}"></a>
  <span class="link second-to-go" ng-if="$ctrl.xur.available" ng-click="$ctrl.showXur($event)">Xûr</span>

  <span class="header-right">
    <refresh ng-if="!$ctrl.showSearch" class="link"></refresh>
    <span class="link fa fa-save" ng-if="!$ctrl.showSearch" ui-sref="storage" ng-i18next="[title]Storage.Title"></span>
    <span class="link fa fa-cog" ng-if="!$ctrl.showSearch" ng-click="$ctrl.showSetting($event)" ng-i18next="[title]Settings.Settings"></span>
    <span class="link search-link" ng-class="{ show: $ctrl.showSearch }">
      <span class="filter-help" ng-click="$ctrl.showFilters($event)" ng-i18next="[title]Header.Filters"><i class="fa fa-question-circle-o"></i></span>
      <dim-search-filter></dim-search-filter>
    </span>
    <span class="link search-button" ng-click="$ctrl.showSearch = !$ctrl.showSearch"><i class="fa fa-search"></i></span>
    <account-select></account-select>
  </span>
</div>

<div id="content" ui-view></div>
<div class="store-bounds"></div>
<dim-manifest-progress></dim-manifest-progress>
