<div class="loadout-popup-content">
  <ul class="loadout-list">

    <li class="loadout-set">
      <span ng-click="vm.newLoadout($event)">
        <i class="fa fa-plus-circle"></i>
        <span ng-i18next="Loadouts.Create"></span>
      </span>
      <span ng-click="vm.newLoadoutFromEquipped($event)" ng-i18next="Loadouts.FromEquipped"></span>
    </li>

    <li ng-repeat="loadout in vm.loadouts track by loadout.id" class="loadout-set">
      <span title="{{ loadout.name }}" ng-click="vm.applyLoadout(loadout, $event)">
        {{ loadout.name }}
      </span>
      <span class="delete" ng-i18next="[title]Loadouts.Delete" ng-click="vm.deleteLoadout(loadout, $event)">
        <i class="fa fa-trash-o"></i>
      </span>
      <span ng-i18next="[title]Loadouts.Edit" ng-click="vm.editLoadout(loadout, $event)">
        <i class="fa fa-pencil"></i>
      </span>
    </li>

    <li class="loadout-set" ng-if="vm.search.query">
      <span ng-click="vm.searchLoadout($event)">
        <i class="fa fa-search"></i>
        <span ng-i18next="[i18next]({ query: vm.search.query })Loadouts.ApplySearch"></span>
      </span>
    </li>

    <li class="loadout-set" ng-if="!vm.store.isVault">
      <span ng-click="vm.maxLightLoadout($event)">
        <span class="light" ng-bind="::vm.maxLightValue"></span>
        <i class="fa">âœ¦</i>
        <span ng-i18next="{{ vm.store.destinyVersion == 2 ? 'Loadouts.MaximizePower' : 'Loadouts.MaximizeLight' }}"></span>
      </span>
    </li>

    <li class="loadout-set" ng-if="vm.store.destinyVersion == 1 && !vm.store.isVault">
      <span ng-click="vm.itemLevelingLoadout($event)">
        <i class="fa fa-level-up"></i>
        <span ng-i18next="Loadouts.ItemLeveling"></span>
      </span>
    </li>

    <li class="loadout-set" ng-if="!vm.store.isVault">
      <span ng-click="vm.makeRoomForPostmaster($event)">
        <i class="fa fa-envelope"></i>
        <span ng-i18next="Loadouts.MakeRoom"></span>
      </span>
    </li>

    <li ng-if="vm.store.destinyVersion === 1" class="loadout-set">
      <span ng-click="vm.gatherEngramsLoadout($event, { exotics: true  } )">
        <img class="fa" src="~app/images/engram.svg" height="12" width="12"/>
        <span ng-i18next="Loadouts.GatherEngrams"></span>
      </span>
      <span ng-click="vm.gatherEngramsLoadout($event, { exotics: false })">
        <i class="fa fa-ban"></i>
        <span ng-i18next="Loadouts.GatherEngramsExceptExotics"></span>
      </span>
    </li>

    <li class="loadout-set" ng-if="!vm.store.isVault">
      <span ng-click="vm.startFarming($event)">
        <img class="fa" src="~app/images/engram.svg" height="12" width="12"/>
        <span ng-i18next="FarmingMode.FarmingMode"></span>
      </span>
    </li>

    <li class="loadout-set" ng-if="vm.previousLoadout">
      <span title="{{ vm.previousLoadout.name }}" ng-click="vm.applyLoadout(vm.previousLoadout, $event, true)">
        <i class="fa fa-undo"></i>
        {{ vm.previousLoadout.name }}
      </span>
      <span ng-click="vm.applyLoadout(vm.previousLoadout, $event)">
        <span ng-i18next="Loadouts.RestoreAllItems"></span>
      </span>
    </li>

  </ul>
</div>
